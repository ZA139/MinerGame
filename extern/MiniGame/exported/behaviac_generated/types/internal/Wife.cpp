// -------------------------------------------------------------------------------
// THIS FILE IS ORIGINALLY GENERATED BY THE DESIGNER.
// YOU ARE ONLY ALLOWED TO MODIFY CODE BETWEEN '///<<< BEGIN' AND '///<<< END'.
// PLEASE MODIFY AND REGENERETE IT IN THE DESIGNER FOR CLASS/MEMBERS/METHODS, ETC.
// -------------------------------------------------------------------------------

#include "Wife.h"

///<<< BEGIN WRITING YOUR CODE FILE_INIT
#include <unistd.h>
#include<ctime>
#include <cstdlib>
#include <string>
#include"/data/charlesqliu/MiniMiner/src/MessageSys/MessageMgr.h"
#include"/data/charlesqliu/MiniMiner/src/MessageSys/RelationShipMgr.h"
#define MinerSay(words,args...) printf("Miner:");printf(words,##args);printf("\n");usleep(500000)
#define WifeSay(words,args...) printf("Wife:");printf(words,##args);printf("\n");usleep(1733333)
///<<< END WRITING YOUR CODE

Wife::Wife()
{
	isWannaGotoBathRoom = false;
///<<< BEGIN WRITING YOUR CODE CONSTRUCTOR
	srand(time(nullptr));
///<<< END WRITING YOUR CODE
}

Wife::~Wife()
{
///<<< BEGIN WRITING YOUR CODE DESTRUCTOR

///<<< END WRITING YOUR CODE
}

void Wife::DoHomeWork()
{
///<<< BEGIN WRITING YOUR CODE DoHomeWork
	WifeSay("做家务呀，做家务..");
	isWannaGotoBathRoom = (rand() % 20) == 0;
///<<< END WRITING YOUR CODE
}

void Wife::Peeing()
{
///<<< BEGIN WRITING YOUR CODE Peeing
	WifeSay("上厕所呀上厕所");
///<<< END WRITING YOUR CODE
}

std::string Wife::HandleMessage(Message * message)
{
	switch(message->type) {
		case MessageType::HOME_SWEET_HOME: {
			WifeSay("好的，我去做饭，饭好了叫你");
			MessageMgr::Instance().SendMessage(new Message(this,message->sender,MessageType::FOOD_IS_READY,5));
			break;
		}
		default:
			return std::string("不支持的消息类型");
	}
	return std::string();
}


///<<< BEGIN WRITING YOUR CODE FILE_UNINIT

///<<< END WRITING YOUR CODE
